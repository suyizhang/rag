# 🤖 Agentic RAG 系统使用指南

## 🌟 系统特性

这是一个智能代理增强的检索生成系统（Agentic RAG），具有以下核心能力：

### 🧠 智能代理功能
- **意图分析**: 自动分析用户查询意图
- **自主决策**: 根据查询类型选择最佳处理策略
- **多步推理**: 执行复杂的检索-推理-生成流程
- **上下文感知**: 维护对话历史和上下文连贯性

### 📚 知识库管理
- **文档存储**: 支持结构化文档存储
- **智能检索**: 基于相关性评分的文档检索
- **分类管理**: 支持文档分类和标签系统
- **持久化存储**: 自动保存和加载知识库

### 🔍 检索增强生成
- **多维度匹配**: 标题、内容、标签多维度检索
- **相关性排序**: 智能评分和排序机制
- **上下文整合**: 将检索结果整合到生成过程
- **质量控制**: 基于检索质量调整回答策略

## 📖 命令参考

### 基础命令
```bash
help         # 显示帮助信息
stats        # 显示知识库统计信息
clear        # 清空对话历史
exit/quit    # 退出系统
```

### 知识库操作
```bash
add          # 交互式添加文档
search <查询> # 搜索特定内容
```

### 智能问答
直接输入任何问题，系统会：
1. 分析查询意图
2. 检索相关文档
3. 生成增强回答

## 🚀 使用示例

### 1. 查看系统状态
```
🤖 AgenticRAG> stats
```

### 2. 添加新文档
```
🤖 AgenticRAG> add
📝 文档标题: Python编程基础
📄 文档内容: Python是一种高级编程语言，语法简洁易学...
🏷️  分类: 编程
🔖 标签: Python,编程,教程
```

### 3. 搜索文档
```
🤖 AgenticRAG> search Python
```

### 4. 智能问答
```
🤖 AgenticRAG> 什么是RAG技术？
🎯 意图分析: question | 关键词: RAG, 技术
🔍 正在检索相关文档...
📄 找到 1 个相关文档:
  1. RAG技术介绍 (相关性: 3.0)
🤖 正在生成回答...

🤖 回答 (2.3s, 检索了1个文档):
RAG（检索增强生成）是一种结合信息检索和生成式AI的技术...
```

## 🔧 系统架构

### 核心组件
1. **KnowledgeBase**: 知识库管理器
   - 文档存储和检索
   - 相关性评分算法
   - 持久化存储

2. **AgenticRAGAgent**: 智能代理
   - 意图分析
   - 检索策略选择
   - 回答生成

3. **AgenticRAGApp**: 主应用
   - 用户交互界面
   - 命令处理
   - 系统协调

### 工作流程
```
用户输入 → 意图分析 → 检索策略 → 文档检索 → 上下文构建 → 回答生成 → 输出结果
```

## 📊 性能特性

- **响应时间**: 显示每次查询的处理时间
- **检索效果**: 显示检索到的文档数量
- **相关性评分**: 基于多维度匹配的智能评分
- **上下文管理**: 保持对话连贯性

## 🛠️ 扩展功能

### 计划中的功能
- [ ] 向量数据库集成
- [ ] 多模态文档支持
- [ ] 实时网络检索
- [ ] 知识图谱构建
- [ ] 批量文档导入
- [ ] API接口支持

## 💡 使用技巧

1. **添加高质量文档**: 文档内容越详细，检索效果越好
2. **使用合适的标签**: 标签有助于提高检索准确性
3. **保持对话连贯**: 系统会记住对话历史
4. **利用分类功能**: 合理的分类有助于知识管理

## 🔍 故障排除

### 常见问题
1. **检索结果为空**: 尝试使用不同的关键词
2. **回答不准确**: 添加更多相关文档到知识库
3. **响应时间长**: 检查网络连接和API配额

### 性能优化
- 定期清理无用文档
- 使用精确的标签和分类
- 保持知识库内容更新

---

🎯 **开始使用**: 运行 `node src/agentic-rag.js` 启动系统！